Object subclass: #Descuento	instanceVariableNames: 'duracion totalProvisorio'	classVariableNames: ''	package: 'TP1-108603'!!Descuento methodsFor: 'as yet unclassified' stamp: 'FranciscoSobral 5/21/2022 22:10'!calcularTotalConDescuento	| total |	total := totalProvisorio.		(duracion > 30) ifTrue: [ total := totalProvisorio * 0.9].	^  total.! !!Descuento methodsFor: 'initialization' stamp: 'FranciscoSobral 5/22/2022 18:36'!setDuracion:  unaDuracion setTotalProvisorio:  unTotalProvisorio 	duracion := unaDuracion .	totalProvisorio := unTotalProvisorio .! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!Descuento class	instanceVariableNames: ''!!Descuento class methodsFor: 'as yet unclassified' stamp: 'FranciscoSobral 5/22/2022 18:37'!conDuracion: duracion conTotalProvisorio: totalProvisorio	| descuento |		(totalProvisorio  < 0) ifTrue: [ TarifaInvalidaError signal].		descuento := self new.	descuento setDuracion: duracion setTotalProvisorio: totalProvisorio.		^descuento. 	! !Error subclass: #HoraInvalidaError	instanceVariableNames: ''	classVariableNames: ''	package: 'TP1-108603'!Object subclass: #Horario	instanceVariableNames: 'horario'	classVariableNames: ''	package: 'TP1-108603'!!Horario methodsFor: 'accessing' stamp: 'FranciscoSobral 5/21/2022 21:42'!calcularTarifaPorHora	| tarifa |	tarifa := (horario between: 8 and: 20)		          ifTrue: [ 0.2 ]		          ifFalse: [ 0.1 ].	^ tarifa! !!Horario methodsFor: 'initialization' stamp: 'FranciscoSobral 5/21/2022 21:42'!setHorario: unHorario horario := unHorario .! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!Horario class	instanceVariableNames: ''!!Horario class methodsFor: 'as yet unclassified' stamp: 'FranciscoSobral 5/21/2022 21:42'!conHorario: unHorario	| horario |	horario := self new.	horario setHorario: unHorario.	^horario.! !Object subclass: #Llamada	instanceVariableNames: 'duracion horario destino'	classVariableNames: ''	package: 'TP1-108603'!!Llamada methodsFor: 'initialization' stamp: 'FranciscoSobral 5/22/2022 18:02'!setDestino: unDestino setDuracion: unaDuracion setHorario: unHorario	horario := unHorario.	duracion := unaDuracion.	destino := unDestino.! !!Llamada methodsFor: 'as yet unclassified' stamp: 'FranciscoSobral 5/21/2022 22:21'!imprimirInfoLlamada^'La llamada se hizo a '	, destino , ' a las '	, horario asString , ' hs durando '	, duracion asString , ' minutos'! !!Llamada methodsFor: 'as yet unclassified' stamp: 'FranciscoSobral 5/21/2022 22:23'!obtenerDuracion^duracion.! !!Llamada methodsFor: 'as yet unclassified' stamp: 'FranciscoSobral 5/21/2022 22:23'!obtenerDestino^destino.! !!Llamada methodsFor: 'as yet unclassified' stamp: 'FranciscoSobral 5/21/2022 22:23'!obtenerHorario^horario.! !!Llamada methodsFor: 'accessing' stamp: 'FranciscoSobral 4/23/2022 18:53'!calcularTarifaFinal ^self subclassResponsibility .! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!Llamada class	instanceVariableNames: ''!!Llamada class methodsFor: 'accessing' stamp: 'FranciscoSobral 5/22/2022 18:04'!conDuracion: unaDuracion conHorario: unHorario conDestino: unDestino	| llamada |	llamada := self new.	(unaDuracion < 0) ifTrue: [ MinutosInvalidosError signal ].	llamada setDestino: unDestino setDuracion: unaDuracion setHorario: unHorario.	(unHorario between: 1 and: 24) ifFalse: [ HoraInvalidaError signal ].		^ llamada! !Llamada subclass: #Internacional	instanceVariableNames: 'tarifa'	classVariableNames: ''	package: 'TP1-108603'!!Internacional methodsFor: 'as yet unclassified' stamp: 'FranciscoSobral 4/23/2022 18:52'!obtenerTarifa	^tarifa.! !!Internacional methodsFor: 'as yet unclassified' stamp: 'FranciscoSobral 4/22/2022 18:15'!setTarifa: unaTarifa	tarifa := unaTarifa.! !!Internacional methodsFor: 'as yet unclassified' stamp: 'FranciscoSobral 5/21/2022 22:14'!calcularTarifaFinal	| tarifaFinal totalProvisorio |		totalProvisorio := (tarifa * duracion).	tarifaFinal := (Descuento conDuracion: duracion conTotalProvisorio: totalProvisorio) calcularTotalConDescuento .	  		^  tarifaFinal! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!Internacional class	instanceVariableNames: ''!!Internacional class methodsFor: 'as yet unclassified' stamp: 'FranciscoSobral 4/23/2022 17:40'!conDuracion: unaDuracion conHorario: unHorario conDestino: unDestino conTarifa: unaTarifa	|llamadaInternacional|	llamadaInternacional := self conDuracion: unaDuracion conHorario: unHorario conDestino: unDestino.	(unaTarifa < 0) ifTrue: [ TarifaInvalidaError signal ].	llamadaInternacional setTarifa: unaTarifa.	^llamadaInternacional! !Error subclass: #MinutosInvalidosError	instanceVariableNames: ''	classVariableNames: ''	package: 'TP1-108603'!Llamada subclass: #Nacional	instanceVariableNames: ''	classVariableNames: ''	package: 'TP1-108603'!!Nacional methodsFor: 'accessing' stamp: 'FranciscoSobral 5/21/2022 22:14'!calcularTarifaFinal	| tarifa tarifaFinal totalProvisorio |		tarifa := (Horario conHorario: horario) calcularTarifaPorHora.	"tengo cuanto vale por la hora"	totalProvisorio := (tarifa * duracion).		tarifaFinal := (Descuento conDuracion: duracion conTotalProvisorio: totalProvisorio) calcularTotalConDescuento .		^  tarifaFinal.! !Error subclass: #TarifaInvalidaError	instanceVariableNames: ''	classVariableNames: ''	package: 'TP1-108603'!Object subclass: #TeleAlgo	instanceVariableNames: 'abono llamadas tarifa'	classVariableNames: ''	package: 'TP1-108603'!!TeleAlgo methodsFor: 'accessing' stamp: 'FranciscoSobral 4/22/2022 17:20'!setAbono: unAbono abono:= unAbono.! !!TeleAlgo methodsFor: 'accessing' stamp: 'FranciscoSobral 5/22/2022 19:07'!consultarPorLlamadaEfectuadaMasCostosa	| maximo llamadaMaxima |	maximo := 0.				llamadaMaxima := llamadas detectMax: [ :llamada | llamada calcularTarifaFinal ].		^('La llamada mas costosa: ', llamadaMaxima imprimirInfoLlamada).! !!TeleAlgo methodsFor: 'as yet unclassified' stamp: 'FranciscoSobral 4/23/2022 11:09'!registrarLlamadaNacionalConDuracion: minutos HechaEnElHorario: horario	|llamadaActual |	llamadaActual := (Nacional conDuracion: minutos conHorario: horario conDestino: 'Argentina'). 		llamadas add: llamadaActual.	! !!TeleAlgo methodsFor: 'as yet unclassified' stamp: 'FranciscoSobral 5/21/2022 23:37'!obtenerLlamadas^llamadas.! !!TeleAlgo methodsFor: 'as yet unclassified' stamp: 'FranciscoSobral 4/22/2022 19:09'!aplicarTarifaPorMinutoALlamadaInternacional: unaTarifa	tarifa:= unaTarifa.! !!TeleAlgo methodsFor: 'as yet unclassified' stamp: 'FranciscoSobral 5/21/2022 22:15'!calcularGastoFinal	| gasto |	gasto:= 0.	llamadas do: [ :llamada |		gasto := gasto + (llamada calcularTarifaFinal)].	^ gasto + abono .! !!TeleAlgo methodsFor: 'as yet unclassified' stamp: 'FranciscoSobral 4/22/2022 19:10'!registrarLlamadaInternacionalCon: minutos HechaEnElHorario: horario Hacia: destino	| llamadaInternacional |	llamadaInternacional := (Internacional conDuracion: minutos conHorario: horario conDestino: destino conTarifa: tarifa).		llamadas add: llamadaInternacional.! !!TeleAlgo methodsFor: 'initialization' stamp: 'FranciscoSobral 4/22/2022 17:29'!initialize 	llamadas := OrderedCollection new.	! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!TeleAlgo class	instanceVariableNames: 'unAbono'!!TeleAlgo class methodsFor: 'as yet unclassified' stamp: 'FranciscoSobral 4/22/2022 19:11'!conAbonoMensual: unAbonoMensual	| teleAlgo |	teleAlgo := self new.	teleAlgo setAbono: unAbonoMensual.	teleAlgo aplicarTarifaPorMinutoALlamadaInternacional: 0.	^teleAlgo! !