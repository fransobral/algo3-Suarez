Error subclass: #HoraInvalidaError	instanceVariableNames: ''	classVariableNames: ''	package: 'TP1-108603'!Object subclass: #Llamada	instanceVariableNames: 'duracion horario destino'	classVariableNames: ''	package: 'TP1-108603'!!Llamada methodsFor: 'initialization' stamp: 'FranciscoSobral 4/23/2022 10:39'!setDestino: unDestino	destino := unDestino.! !!Llamada methodsFor: 'as yet unclassified' stamp: 'FranciscoSobral 4/22/2022 19:22'!obtenerDuracion	^duracion .! !!Llamada methodsFor: 'as yet unclassified' stamp: 'FranciscoSobral 4/23/2022 10:41'!obtenerDestino^destino! !!Llamada methodsFor: 'as yet unclassified' stamp: 'FranciscoSobral 4/22/2022 19:22'!obtenerHorario	^horario .! !!Llamada methodsFor: 'accessing' stamp: 'FranciscoSobral 4/22/2022 17:21'!setDuracion: unaDuracion 		duracion:= unaDuracion.! !!Llamada methodsFor: 'accessing' stamp: 'FranciscoSobral 4/23/2022 18:53'!calcularTarifaFinal ^self subclassResponsibility .! !!Llamada methodsFor: 'accessing' stamp: 'FranciscoSobral 4/22/2022 17:21'!setHorario: unHorario 		horario:= unHorario.! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!Llamada class	instanceVariableNames: ''!!Llamada class methodsFor: 'accessing' stamp: 'FranciscoSobral 4/24/2022 10:32'!conDuracion: unaDuracion conHorario: unHorario conDestino: unDestino	| llamada |	llamada := self new.	unaDuracion < 0 ifTrue: [ MinutosInvalidosError signal ].	llamada setDuracion: unaDuracion.	(unHorario between: 1 and: 24) ifFalse: [ HoraInvalidaError signal ].	llamada setHorario: unHorario.	llamada setDestino: unDestino.	^ llamada! !Llamada subclass: #Internacional	instanceVariableNames: 'tarifa'	classVariableNames: ''	package: 'TP1-108603'!!Internacional methodsFor: 'as yet unclassified' stamp: 'FranciscoSobral 4/23/2022 18:52'!obtenerTarifa	^tarifa.! !!Internacional methodsFor: 'as yet unclassified' stamp: 'FranciscoSobral 4/22/2022 18:15'!setTarifa: unaTarifa	tarifa := unaTarifa.! !!Internacional methodsFor: 'as yet unclassified' stamp: 'FranciscoSobral 4/23/2022 18:53'!calcularTarifaFinal	| tarifaFinal |	tarifaFinal := (tarifa * duracion).	(duracion > 30) ifTrue: [ tarifaFinal := (tarifaFinal * 0.9)].	^  tarifaFinal! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!Internacional class	instanceVariableNames: ''!!Internacional class methodsFor: 'as yet unclassified' stamp: 'FranciscoSobral 4/23/2022 17:40'!conDuracion: unaDuracion conHorario: unHorario conDestino: unDestino conTarifa: unaTarifa	|llamadaInternacional|	llamadaInternacional := self conDuracion: unaDuracion conHorario: unHorario conDestino: unDestino.	(unaTarifa < 0) ifTrue: [ TarifaInvalidaError signal ].	llamadaInternacional setTarifa: unaTarifa.	^llamadaInternacional! !Error subclass: #MinutosInvalidosError	instanceVariableNames: ''	classVariableNames: ''	package: 'TP1-108603'!Llamada subclass: #Nacional	instanceVariableNames: ''	classVariableNames: ''	package: 'TP1-108603'!!Nacional methodsFor: 'accessing' stamp: 'FranciscoSobral 4/23/2022 18:53'!calcularTarifaFinal	| tarifa |	tarifa := (horario between: 8 and: 20)		          ifTrue: [ duracion * 0.2 ]		          ifFalse: [ duracion * 0.1 ].			(duracion > 30) ifTrue: [ tarifa := (tarifa * 0.9)].	^  tarifa.! !Error subclass: #TarifaInvalidaError	instanceVariableNames: ''	classVariableNames: ''	package: 'TP1-108603'!Object subclass: #TeleAlgo	instanceVariableNames: 'abono llamadas tarifa'	classVariableNames: ''	package: 'TP1-108603'!!TeleAlgo methodsFor: 'accessing' stamp: 'FranciscoSobral 4/22/2022 17:20'!setAbono: unAbono abono:= unAbono.! !!TeleAlgo methodsFor: 'accessing' stamp: 'FranciscoSobral 4/23/2022 18:56'!consultarPorLlamadaEfectuadaMasCostosa	| maximo llamadaMaxima |	maximo := 0.	llamadas ifNotNil: [ 		llamadas do: [ :llamada | 			(maximo < llamada calcularTarifaFinal) ifTrue: [ llamadaMaxima := llamada.				maximo := llamada calcularTarifaFinal  ] ] ].		^'La llamada mas costosa: La llamada se hizo a '	, llamadaMaxima obtenerDestino , ' a las '	, llamadaMaxima obtenerHorario asString , ' hs durando '	, llamadaMaxima obtenerDuracion asString , ' minutos'! !!TeleAlgo methodsFor: 'as yet unclassified' stamp: 'FranciscoSobral 4/23/2022 11:09'!registrarLlamadaNacionalConDuracion: minutos HechaEnElHorario: horario	|llamadaActual |	llamadaActual := (Nacional conDuracion: minutos conHorario: horario conDestino: 'Argentina'). 		llamadas add: llamadaActual.	! !!TeleAlgo methodsFor: 'as yet unclassified' stamp: 'FranciscoSobral 4/22/2022 19:09'!aplicarTarifaPorMinutoALlamadaInternacional: unaTarifa	tarifa:= unaTarifa.! !!TeleAlgo methodsFor: 'as yet unclassified' stamp: 'FranciscoSobral 4/23/2022 18:55'!calcularGastoFinal	| gasto |	gasto:= 0.	llamadas ifNotNil:[		llamadas do: [ :llamada |			gasto := gasto + (llamada calcularTarifaFinal )]].	^ gasto + abono .! !!TeleAlgo methodsFor: 'as yet unclassified' stamp: 'FranciscoSobral 4/22/2022 19:10'!registrarLlamadaInternacionalCon: minutos HechaEnElHorario: horario Hacia: destino	| llamadaInternacional |	llamadaInternacional := (Internacional conDuracion: minutos conHorario: horario conDestino: destino conTarifa: tarifa).		llamadas add: llamadaInternacional.! !!TeleAlgo methodsFor: 'initialization' stamp: 'FranciscoSobral 4/22/2022 17:29'!initialize 	llamadas := OrderedCollection new.	! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!TeleAlgo class	instanceVariableNames: 'unAbono'!!TeleAlgo class methodsFor: 'as yet unclassified' stamp: 'FranciscoSobral 4/22/2022 19:11'!conAbonoMensual: unAbonoMensual	| teleAlgo |	teleAlgo := self new.	teleAlgo setAbono: unAbonoMensual.	teleAlgo aplicarTarifaPorMinutoALlamadaInternacional: 0.	^teleAlgo! !